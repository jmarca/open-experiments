<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <parent>
    <artifactId>base</artifactId>
    <groupId>org.sakaiproject.kernel</groupId>
    <version>0.1-SNAPSHOT</version>
  </parent>
  <modelVersion>4.0.0</modelVersion>
  <groupId>org.sakaiproject.kernel</groupId>
  <artifactId>org.sakaiproject.kernel.jasig.persondirectory</artifactId>
  <packaging>bundle</packaging>
  <name>Sakai Kernel Jasig Person Directory Bundle</name>
  <version>0.1-SNAPSHOT</version>

  <repositories>
    <repository>
        <id>jasig</id>
        <url>http://developer.jasig.org/repo/content/repositories/m2/</url>
        <releases>
           <enabled>true</enabled>
        </releases>
        <snapshots>
          <enabled>false</enabled>
        </snapshots>        
     </repository>
  </repositories>

  <properties>
    <person.directory.version>1.1.2</person.directory.version>
    <spring.framework.version>2.5.1</spring.framework.version>
    <spring.ldap.version>1.2.1</spring.ldap.version>
  </properties>

  <build>
    <plugins>
      <plugin>
        <groupId>org.apache.felix</groupId>
        <artifactId>maven-scr-plugin</artifactId>
      </plugin>
      <plugin>
        <groupId>org.apache.felix</groupId>
        <artifactId>maven-bundle-plugin</artifactId>
        <extensions>true</extensions>
        <configuration>
          <instructions>
            <Bundle-Category>
              sakai-kernel
            </Bundle-Category>

            <Export-Package>
              org.jasig.services.persondir.*;version=${person.directory.version}
            </Export-Package>

            <Import-Package>
              !com.j_spaces.map,
              !com.jamonapi,
              !com.mchange.v2.c3p0,
              !com.opensymphony.oscache.*,
              !com.sun.*,
              !com.thoughtworks.xstream,
              !edu.emory.mathcs.backport.java.util.concurrent,
              !net.sf.cglib.*,
              !net.sf.ehcache,
              !org.acegisecurity.*,
              !org.apache.commons.attributes,
              !org.apache.jcs.*,
              !org.apache.log4j.xml,
              !org.apache.oro.text.regex,
              !org.aspectj.*,
              !org.enhydra.jdbc.core,
              !org.jboss.cache,
              !org.springframework.*,
              *
            </Import-Package>

            <Embed-Dependency>
              aopalliance,
              spring-beans,
              spring-core,
              spring-jdbc,
              spring-ldap,
              spring-modules-cache
            </Embed-Dependency>

            <Embed-Transitive>
              true
            </Embed-Transitive>
          </instructions>
        </configuration>
      </plugin>
    </plugins>
  </build>

  <dependencies>
<!-- person directory -->
    <dependency>
      <groupId>org.jasig.service</groupId>
      <artifactId>person-directory-api</artifactId>
      <version>${person.directory.version}</version>
    </dependency>
    <dependency>
      <groupId>org.jasig.service</groupId>
      <artifactId>person-directory-impl</artifactId>
      <version>${person.directory.version}</version>
    </dependency>

<!-- spring -->
    <dependency>
       <groupId>org.springframework</groupId>
       <artifactId>spring-jdbc</artifactId>
       <version>${spring.framework.version}</version>
    </dependency>
    <dependency>
      <groupId>org.springframework.ldap</groupId>
      <artifactId>spring-ldap</artifactId>
      <version>${spring.ldap.version}</version>
    </dependency>
    <!-- needed by CachingPersonAttributeDaoImpl -->
    <dependency>
      <groupId>aopalliance</groupId>
      <artifactId>aopalliance</artifactId>
      <version>1.0</version>
    </dependency>
    <!-- stolen from the person-directory-impl pom -->
    <dependency>
      <groupId>org.springmodules</groupId>
      <artifactId>spring-modules-cache</artifactId>
      <version>0.8</version>
      <exclusions>
         <exclusion>
             <groupId>commons-logging</groupId>
             <artifactId>commons-logging</artifactId>
         </exclusion>
         <exclusion>
             <groupId>log4j</groupId>
             <artifactId>log4j</artifactId>
         </exclusion>
         <exclusion>
             <groupId>org.springframework</groupId>
             <artifactId>spring</artifactId>
         </exclusion>
         <exclusion>
             <groupId>gigaspaces</groupId>
             <artifactId>gigaspaces-ce</artifactId>
         </exclusion>
         <exclusion>
             <groupId>jini</groupId>
             <artifactId>jsk-lib</artifactId>
         </exclusion>
         <exclusion>
             <groupId>jini</groupId>
             <artifactId>jsk-platform</artifactId>
         </exclusion>
         <exclusion>
             <groupId>jini</groupId>
             <artifactId>mahalo</artifactId>
         </exclusion>
         <exclusion>
             <groupId>jini</groupId>
             <artifactId>reggie</artifactId>
         </exclusion>
         <exclusion>
             <groupId>jini</groupId>
             <artifactId>start</artifactId>
         </exclusion>
         <exclusion>
             <groupId>jini</groupId>
             <artifactId>boot</artifactId>
         </exclusion>
         <exclusion>
             <groupId>jini</groupId>
             <artifactId>webster</artifactId>
         </exclusion>
         <exclusion>
             <groupId>commons-attributes</groupId>
             <artifactId>commons-attributes-api</artifactId>
         </exclusion>
         <exclusion>
             <groupId>commons-attributes</groupId>
             <artifactId>commons-attributes-compiler</artifactId>
         </exclusion>
         <exclusion>
             <groupId>commons-lang</groupId>
             <artifactId>commons-lang</artifactId>
         </exclusion>
         <exclusion>
             <groupId>commons-collections</groupId>
             <artifactId>commons-collections</artifactId>
         </exclusion>
         <exclusion>
             <groupId>cglib</groupId>
             <artifactId>cglib-nodep</artifactId>
         </exclusion>
         <exclusion>
             <groupId>jboss</groupId>
             <artifactId>javassist</artifactId>
         </exclusion>
         <exclusion>
             <groupId>jboss</groupId>
             <artifactId>jboss-cache</artifactId>
         </exclusion>
         <exclusion>
             <groupId>jboss</groupId>
             <artifactId>jboss-common</artifactId>
         </exclusion>
         <exclusion>
             <groupId>jboss</groupId>
             <artifactId>jboss-jmx</artifactId>
         </exclusion>
         <exclusion>
             <groupId>jboss</groupId>
             <artifactId>jboss-minimal</artifactId>
         </exclusion>
         <exclusion>
             <groupId>jboss</groupId>
             <artifactId>jboss-system</artifactId>
         </exclusion>
         <exclusion>
             <groupId>jcs</groupId>
             <artifactId>jcs</artifactId>
         </exclusion>
         <exclusion>
             <groupId>jgroups</groupId>
             <artifactId>jgroups-all</artifactId>
         </exclusion>
         <exclusion>
             <groupId>geronimo-spec</groupId>
             <artifactId>geronimo-spec-jta</artifactId>
         </exclusion>
         <exclusion>
             <groupId>xpp3</groupId>
             <artifactId>xpp3_min</artifactId>
         </exclusion>
         <exclusion>
             <groupId>xjavadoc</groupId>
             <artifactId>xjavadoc</artifactId>
         </exclusion>
         <exclusion>
             <groupId>ehcache</groupId>
             <artifactId>ehcache</artifactId>
         </exclusion>
         <exclusion>
             <groupId>opensymphony</groupId>
             <artifactId>oscache</artifactId>
         </exclusion>
         <exclusion>
             <groupId>concurrent</groupId>
             <artifactId>concurrent</artifactId>
         </exclusion>
         <exclusion>
             <groupId>xstream</groupId>
             <artifactId>xstream</artifactId>
         </exclusion>
     </exclusions>
    </dependency>
  </dependencies>
</project>